{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export async function fetchImages(searchString)\n{\n    const API_URL = 'https://pixabay.com/api/';\n    const API_KEY = '46129097-db92c21a9f578a732dd89224e'; \n    const requestParams = {\n      key: API_KEY,\n      q: encodeURIComponent(searchString),\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: 'true'\n    };\n    const encodedParams = new URLSearchParams(requestParams);\n    const response = await fetch([API_URL, encodedParams].join('?'));\n\n    return response.json();\n}","export function showGallery(images)\n{\n    let imageHTML = '';\n    images.forEach(image => {\n      imageHTML += `\n      <a class=\"gallery__item\" href=\"${image.largeImageURL}\">\n      <figure class=\"gallery__figure\">\n        <img class=\"gallery__img\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\">\n        <figcaption class=\"gallery__figcaption\">\n          <div class=\"gallery__caption\">Likes: ${image.likes}</div>\n          <div class=\"gallery__caption\">Views: ${image.views}</div>\n          <div class=\"gallery__caption\">Comments: ${image.comments}</div>\n          <div class=\"gallery__caption\">Downloads: ${image.downloads}</div>\n    </figcaption>\n      </figure>\n    </a>`;\n    });\n    const galleryElement = document.querySelector('.gallery');\n    galleryElement.innerHTML = imageHTML;\n    const lightbox = new SimpleLightbox('.gallery .gallery__item');\n    lightbox.refresh();\n}","\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport {fetchImages} from \"./js/pixabay-api.js\";\nimport {showGallery} from \"./js/render-functions.js\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\ndocument.querySelector('.feedback-form').addEventListener('submit', function(event) {\n  event.preventDefault();\n\n    document.querySelector('.loader').style.display = 'block';\n\n    const query = document.querySelector('input').value.trim();\n\n  if (query === '') {\n    document.querySelector('.loader').style.display = 'none';\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search query!',\n    });\n    return;\n  }\n  \n  fetchImages(query)\n    .then(data => {\n      if (data.totalHits && (data.totalHits)>0) {\n        const imagesForDisplay = data.hits; \n        console.log(imagesForDisplay);\n        showGallery(imagesForDisplay);\n      } else {\n        iziToast.error({\n          title: 'Error',\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n      document.querySelector('.loader').style.display = 'none';\n    })\n    .catch(error => {\n      document.querySelector('.loader').style.display = 'none';\n      console.log(error.message);\n    });\n\n});\n"],"names":["fetchImages","searchString","API_URL","requestParams","encodedParams","showGallery","images","imageHTML","image","galleryElement","event","query","iziToast","data","imagesForDisplay","error"],"mappings":"ivBAAO,eAAeA,EAAYC,EAClC,CACI,MAAMC,EAAU,2BAEVC,EAAgB,CACpB,IAFc,qCAGd,EAAG,mBAAmBF,CAAY,EAClC,WAAY,QACZ,YAAa,aACb,WAAY,MAClB,EACUG,EAAgB,IAAI,gBAAgBD,CAAa,EAGvD,OAFiB,MAAM,MAAM,CAACD,EAASE,CAAa,EAAE,KAAK,GAAG,CAAC,GAE/C,MACpB,CCfO,SAASC,EAAYC,EAC5B,CACI,IAAIC,EAAY,GAChBD,EAAO,QAAQE,GAAS,CACtBD,GAAa;AAAA,uCACoBC,EAAM,aAAa;AAAA;AAAA,yCAEjBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,iDAE9BA,EAAM,KAAK;AAAA,iDACXA,EAAM,KAAK;AAAA,oDACRA,EAAM,QAAQ;AAAA,qDACbA,EAAM,SAAS;AAAA;AAAA;AAAA,SAIpE,CAAK,EACD,MAAMC,EAAiB,SAAS,cAAc,UAAU,EACxDA,EAAe,UAAYF,EACV,IAAI,eAAe,yBAAyB,EACpD,QAAO,CACpB,CCXA,SAAS,cAAc,gBAAgB,EAAE,iBAAiB,SAAU,SAASG,EAAO,CAClFA,EAAM,eAAc,EAElB,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,QAElD,MAAMC,EAAQ,SAAS,cAAc,OAAO,EAAE,MAAM,OAEtD,GAAIA,IAAU,GAAI,CAChB,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,OAClDC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACf,CAAK,EACD,MACD,CAEDZ,EAAYW,CAAK,EACd,KAAKE,GAAQ,CACZ,GAAIA,EAAK,WAAcA,EAAK,UAAW,EAAG,CACxC,MAAMC,EAAmBD,EAAK,KAC9B,QAAQ,IAAIC,CAAgB,EAC5BT,EAAYS,CAAgB,CACpC,MACQF,EAAS,MAAM,CACb,MAAO,QACP,QAAS,0EACnB,CAAS,EAEH,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,MACxD,CAAK,EACA,MAAMG,GAAS,CACd,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,OAClD,QAAQ,IAAIA,EAAM,OAAO,CAC/B,CAAK,CAEL,CAAC"}